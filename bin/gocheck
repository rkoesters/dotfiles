#!/bin/sh
set -eu

# run lets us simulate 'set -x' without printing the if condition as well.
run() {
	echo "$PS4$*"
	"$@"
}

if [ $# = 0 ]; then
	run go fmt
	run go vet
	run golint
else
	for arg in "$@"; do
		run go fmt "$arg"
		run go vet "$arg"
		run golint "$arg"
	done
fi
